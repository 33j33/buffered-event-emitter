{"version":3,"file":"bundle.umd.js","sources":["../esm/bufferedEventEmitter.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _BufferedEventEmitter_instances, _BufferedEventEmitter_emitAfterTimeout;\r\nclass EventProp {\r\n    constructor(fn, once, options) {\r\n        this.fn = fn;\r\n        this.once = once;\r\n        this.options = options;\r\n        if (options === null || options === void 0 ? void 0 : options.buffered) {\r\n            this.bucket = [];\r\n            this.timeoutID = undefined;\r\n        }\r\n    }\r\n}\r\nexport class BufferedEventEmitter {\r\n    constructor(options) {\r\n        var _a, _b;\r\n        _BufferedEventEmitter_instances.add(this);\r\n        this._events = {};\r\n        this._defaultListenerOptions = {\r\n            buffered: (_a = options === null || options === void 0 ? void 0 : options.buffered) !== null && _a !== void 0 ? _a : false,\r\n            bufferCapacity: (_b = options === null || options === void 0 ? void 0 : options.bufferCapacity) !== null && _b !== void 0 ? _b : 5,\r\n        };\r\n        this._status = \"emitting\";\r\n        this._shouldQueueEmissions = true;\r\n        this._emissionInterval = 0;\r\n        this._queue = [];\r\n    }\r\n    emit(eventName, data) {\r\n        if (!this._events[eventName] || this._events[eventName].length === 0) {\r\n            return false;\r\n        }\r\n        if (this._status === \"paused\") {\r\n            if (this._shouldQueueEmissions)\r\n                this._queue.push({ eventName, data });\r\n            return false;\r\n        }\r\n        // collect events here which are !(once && emitted)\r\n        let eventProps = [];\r\n        let didAnyEmit = false;\r\n        // iterate through all registered events\r\n        this._events[eventName].forEach((event) => {\r\n            var _a, _b;\r\n            let didEmit = false;\r\n            // buffered event handling\r\n            if (event.options.buffered) {\r\n                (_a = event === null || event === void 0 ? void 0 : event.bucket) === null || _a === void 0 ? void 0 : _a.push(data);\r\n                const bufferCapacity = (_b = event.options.bufferCapacity) !== null && _b !== void 0 ? _b : this._defaultListenerOptions.bufferCapacity;\r\n                if ((event === null || event === void 0 ? void 0 : event.bucket) && event.bucket.length >= bufferCapacity) {\r\n                    event.fn(event.bucket);\r\n                    didEmit = true;\r\n                    didAnyEmit = true;\r\n                    this._logger(\"emit\", eventName, event.bucket);\r\n                    event.bucket = [];\r\n                }\r\n            }\r\n            else {\r\n                // non-buffered event handling\r\n                event.fn(data);\r\n                didEmit = true;\r\n                didAnyEmit = true;\r\n                this._logger(\"emit\", eventName, data);\r\n            }\r\n            // filter out once emitted events\r\n            if (!(event.once && didEmit)) {\r\n                eventProps.push(event);\r\n            }\r\n        });\r\n        this._events[eventName] = eventProps;\r\n        return didAnyEmit;\r\n    }\r\n    on(eventName, listener, options = {}) {\r\n        if (!this._events[eventName]) {\r\n            this._events[eventName] = [];\r\n        }\r\n        this._events[eventName].push(new EventProp(listener, false, options));\r\n        this._logger(\"subscribe\", eventName, listener);\r\n        return this;\r\n    }\r\n    once(eventName, listener, options = {}) {\r\n        if (!this._events[eventName]) {\r\n            this._events[eventName] = [];\r\n        }\r\n        this._events[eventName].push(new EventProp(listener, true, options));\r\n        this._logger(\"subscribe\", eventName, listener);\r\n        return this;\r\n    }\r\n    removeListener(eventName, listener, options = {}) {\r\n        let index = -1;\r\n        this._events[eventName].forEach((event, idx) => {\r\n            if (event.fn === listener &&\r\n                checkListenerOptionsEquality(event.options, options)) {\r\n                index = idx;\r\n            }\r\n        });\r\n        if (index !== -1)\r\n            this._events[eventName].splice(index, 1);\r\n        return this;\r\n    }\r\n    flush(eventName, listener, options) {\r\n        let didAnyEmit = false;\r\n        let emittedOnceListenerIndexes = [];\r\n        this._events[eventName].forEach((event, idx) => {\r\n            if (event.options.buffered && (event === null || event === void 0 ? void 0 : event.bucket) && event.bucket.length > 0) {\r\n                const matchesListenerFn = listener && listener === event.fn;\r\n                const matchesOptions = options && checkListenerOptionsEquality(options, event.options);\r\n                const shouldFlush = (eventName && matchesListenerFn && matchesOptions) ||\r\n                    (eventName && !listener && !options);\r\n                if (shouldFlush) {\r\n                    event.fn(event.bucket);\r\n                    didAnyEmit = true;\r\n                    this._logger(\"emit\", eventName, event.bucket);\r\n                    event.bucket = [];\r\n                    if (event.once)\r\n                        emittedOnceListenerIndexes.push(idx);\r\n                }\r\n            }\r\n        });\r\n        this._events[eventName] = this._events[eventName].filter((_, idx) => !emittedOnceListenerIndexes.includes(idx));\r\n        return didAnyEmit;\r\n    }\r\n    pause(queueEmissions = true, emissionInterval = 0) {\r\n        this._shouldQueueEmissions = queueEmissions;\r\n        this._emissionInterval = emissionInterval;\r\n        this._status = \"paused\";\r\n    }\r\n    resume() {\r\n        this._status = \"emitting\";\r\n        if (this._shouldQueueEmissions) {\r\n            if (this._emissionInterval > 0) {\r\n                const dequeueAsync = () => __awaiter(this, void 0, void 0, function* () {\r\n                    console.log(\"queue\", this._queue);\r\n                    for (const item of this._queue) {\r\n                        yield __classPrivateFieldGet(this, _BufferedEventEmitter_instances, \"m\", _BufferedEventEmitter_emitAfterTimeout).call(this, item, this._emissionInterval);\r\n                    }\r\n                });\r\n                return dequeueAsync();\r\n            }\r\n            else {\r\n                this._queue.forEach(({ eventName, data }) => {\r\n                    this.emit(eventName, data);\r\n                });\r\n                this._queue = [];\r\n            }\r\n        }\r\n    }\r\n    listeners(eventName) {\r\n        if (eventName === undefined) {\r\n            return this._events;\r\n        }\r\n        else {\r\n            return this._events[eventName].map((event) => event.fn);\r\n        }\r\n    }\r\n    // aliases\r\n    addListener(eventName, listener, options = {}) {\r\n        return this.on(eventName, listener, options);\r\n    }\r\n    off(eventName, listener, options = {}) {\r\n        return this.removeListener(eventName, listener, options);\r\n    }\r\n    _logger(type, eventName, eventData) {\r\n        if ((type === \"emit\" && !BufferedEventEmitter.debugEnabled.logEmit) ||\r\n            (type === \"subscribe\" && !BufferedEventEmitter.debugEnabled.logSubscribe))\r\n            return;\r\n        if (type === \"emit\") {\r\n            try {\r\n                eventData = JSON.stringify(eventData);\r\n            }\r\n            catch (_a) {\r\n                eventData = `Object with the following keys failed to stringify: ${Object.keys(eventData).join(\",\")}`;\r\n            }\r\n        }\r\n        else if (type === \"subscribe\" && typeof eventData === \"function\") {\r\n            eventData = eventData.toString();\r\n        }\r\n        const currentTime = new Date();\r\n        const logTime = `${currentTime.getHours()}:${currentTime.getMinutes()}:${currentTime.getSeconds()}.${currentTime.getMilliseconds()}`;\r\n        console.groupCollapsed(`%c[Event Type: ${type} | Event Name: ${eventName} | ${logTime}]`, \"color: blue; font-size: 12px\");\r\n        console.log(`%c[Event Data: ${eventData}}]`, \"color: #AD5D4E; font-size: 11px\");\r\n        console.groupEnd();\r\n    }\r\n    static enableDebug(logEmit, logSubscribe) {\r\n        if (logEmit === undefined && logSubscribe === undefined) {\r\n            this.debugEnabled = { logEmit: true, logSubscribe: true };\r\n        }\r\n        if (logEmit !== undefined)\r\n            this.debugEnabled = Object.assign(Object.assign({}, this.debugEnabled), { logEmit });\r\n        if (logSubscribe !== undefined) {\r\n            this.debugEnabled = Object.assign(Object.assign({}, this.debugEnabled), { logSubscribe });\r\n        }\r\n    }\r\n}\r\n_BufferedEventEmitter_instances = new WeakSet(), _BufferedEventEmitter_emitAfterTimeout = function _BufferedEventEmitter_emitAfterTimeout(payload, ms) {\r\n    let timeoutId;\r\n    return new Promise((resolve) => (timeoutId = setTimeout(() => {\r\n        this.emit(payload.eventName, payload.data);\r\n        resolve(true);\r\n    }, ms))).finally(() => {\r\n        clearTimeout(timeoutId);\r\n    });\r\n};\r\nBufferedEventEmitter.debugEnabled = { logEmit: false, logSubscribe: false };\r\nfunction checkListenerOptionsEquality(obj1, obj2) {\r\n    if (!obj1 || !obj2)\r\n        return false;\r\n    const keys1 = Object.keys(obj1);\r\n    const keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    let key;\r\n    for (key in obj1) {\r\n        if (obj1[key] !== obj2[key]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=bufferedEventEmitter.js.map"],"names":["this"],"mappings":"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"}